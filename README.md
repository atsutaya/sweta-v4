# í•™êµ ìµëª… ê²Œì‹œíŒ

í•™êµ ì „ìš© ìµëª… ê²Œì‹œíŒ ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. íœ´ëŒ€í°ì—ì„œ ì›¹ì•±ì²˜ëŸ¼ ìµœì í™”ë˜ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë°˜ì‘í˜• ë””ìì¸ê³¼ PWA ì„¤ì •ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.

## ğŸš€ ê¸°ìˆ  ìŠ¤íƒ

- **Frontend**: Next.js 14 (TypeScript) + TailwindCSS + shadcn/ui
- **Backend**: Supabase (PostgreSQL, Auth, Storage)
- **ìƒíƒœ ê´€ë¦¬**: React Query (TanStack Query)
- **ë°°í¬**: Vercel
- **PWA**: next-pwa

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1ë‹¨ê³„ (í•µì‹¬ ê¸°ëŠ¥, MVP) âœ… ì™„ì„±
- âœ… íšŒì›ê°€ì…/ë¡œê·¸ì¸ (Supabase Auth, OAuth í¬í•¨)
- âœ… ê¸€ ì‘ì„±, ì¡°íšŒ, ì‚­ì œ (ìµëª…ìœ¼ë¡œ í‘œì‹œë˜ì§€ë§Œ ì„œë²„ì—ëŠ” user_id ì €ì¥)
- âœ… ëŒ“ê¸€ ì‘ì„±, ìˆ˜ì •, ì‚­ì œ (ê¸€ë§ˆë‹¤ ìµëª… ë²ˆí˜¸ ìœ ì§€: ìµëª…1, ìµëª…2 ë“±)
- âœ… ì¢‹ì•„ìš”/ì‹«ì–´ìš” ê¸°ëŠ¥ (ì‹«ì–´ìš” ì¼ì • ìˆ˜ ì´ìƒì´ë©´ ìë™ ë¸”ë¼ì¸ë“œ ì²˜ë¦¬)
- âœ… ê²Œì‹œíŒ ë¶„ë¥˜ (ì¹´í…Œê³ ë¦¬: ììœ , ì§ˆë¬¸, ì •ë³´, ê³ ë¯¼ ë“±)
- âœ… ì‹ ê³  ê¸°ëŠ¥ (ë¬¸ì œ ê¸€/ëŒ“ê¸€ì„ ê´€ë¦¬ì í™•ì¸ìš©ìœ¼ë¡œ ê¸°ë¡)

### 2ë‹¨ê³„ (í™œì„±í™” ê¸°ëŠ¥) âœ… ì™„ì„±
- âœ… ì¸ê¸°ê¸€ ê¸°ëŠ¥ (ìµœê·¼ 24ì‹œê°„ ê¸°ì¤€ ì¢‹ì•„ìš”+ëŒ“ê¸€ ìˆ˜ë¥¼ ë°˜ì˜í•œ ì •ë ¬)
- âœ… ê²€ìƒ‰ ê¸°ëŠ¥ (í‚¤ì›Œë“œ, ì¹´í…Œê³ ë¦¬ë³„, ë‚ ì§œë³„ ê²€ìƒ‰)
- âœ… ëŒ€ëŒ“ê¸€ ê¸°ëŠ¥ (íŠ¸ë¦¬ êµ¬ì¡°, ìµëª… ë²ˆí˜¸ ìœ ì§€)
- âœ… ë‚´ í™œë™ ëª¨ì•„ë³´ê¸° (ë‚´ê°€ ì“´ ê¸€/ëŒ“ê¸€ì„ ì‚¬ìš©ì ë³¸ì¸ë§Œ í™•ì¸ ê°€ëŠ¥)

### 3ë‹¨ê³„ (ì‹¬í™” ê¸°ëŠ¥)
- ğŸ“ ìª½ì§€ ê¸°ëŠ¥ (1:1 ëŒ€í™”ë°© êµ¬ì¡°, ìª½ì§€í•¨ UI í•„ìš”, í•˜ë£¨ ì „ì†¡ ì œí•œ, ì°¨ë‹¨ ê¸°ëŠ¥ í•„ìš”)
- ğŸ“Œ ê³µì§€/ê³ ì •ê¸€ ê¸°ëŠ¥ (ê´€ë¦¬ìë‚˜ ì„ ìƒë‹˜ ê³„ì •ì´ ê¸€ì„ ìƒë‹¨ì— ê³ ì • ê°€ëŠ¥)
- ğŸ—³ï¸ íˆ¬í‘œ ê¸°ëŠ¥ (ì˜ˆ: í•™ê¸‰ í–‰ì‚¬, ì ì‹¬ ë©”ë‰´ íˆ¬í‘œ)
- ğŸ–¼ï¸ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì§€ì› (ê¸€/ëŒ“ê¸€ì— ì‚¬ì§„ ì²¨ë¶€ ê°€ëŠ¥)
- ğŸŒ™ ë‹¤í¬ ëª¨ë“œ ì§€ì›
- ğŸ”” ì‹¤ì‹œê°„ ì•Œë¦¼ (ë‚´ ê¸€ì— ëŒ“ê¸€ì´ë‚˜ ì¢‹ì•„ìš” ë°œìƒ ì‹œ ì•Œë¦¼)

### 4ë‹¨ê³„ (ë¶€ê°€/í™•ì¥ ê¸°ëŠ¥)
- ğŸ“… ì‹œê°„í‘œ/í•™êµ ì¼ì • ì—°ë™ (ì‹œí—˜ ì¼ì •, í–‰ì‚¬ ì¼ì • í‘œì‹œ)
- ğŸ“§ í•™êµ ì´ë©”ì¼ ì¸ì¦ ê¸°ë°˜ ê°€ì… (íì‡„í˜• ì»¤ë®¤ë‹ˆí‹° ì§€ì›)
- ğŸ¨ ìµëª… í”„ë¡œí•„ ê¾¸ë¯¸ê¸° (ìƒ‰ìƒ íƒœê·¸, ì•„ì´ì½˜, ì•„ë°”íƒ€ ë“±)
- ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (ì‹ ê³ ëœ ê¸€/ëŒ“ê¸€ ëª¨ë‹ˆí„°ë§, ì‚¬ìš©ì ì œì¬ ê¸°ëŠ¥)

## ğŸ› ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone <repository-url>
cd school-anonymous-board
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
npm install
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
`.env.local` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•˜ì„¸ìš”:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 4. Supabase ì„¤ì •
1. [Supabase](https://supabase.com)ì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ì„¸ìš”
2. SQL í¸ì§‘ê¸°ì—ì„œ ë‹¤ìŒ ìŠ¤í‚¤ë§ˆë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:

```sql
-- ì‚¬ìš©ì í”„ë¡œí•„ í…Œì´ë¸”
CREATE TABLE profiles (
  id UUID REFERENCES auth.users(id) PRIMARY KEY,
  email TEXT UNIQUE NOT NULL,
  role TEXT DEFAULT 'user' CHECK (role IN ('user', 'admin', 'teacher')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ê²Œì‹œê¸€ í…Œì´ë¸”
CREATE TABLE posts (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  title TEXT NOT NULL,
  content TEXT NOT NULL,
  category TEXT NOT NULL,
  user_id UUID REFERENCES auth.users(id) NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  likes_count INTEGER DEFAULT 0,
  dislikes_count INTEGER DEFAULT 0,
  comments_count INTEGER DEFAULT 0,
  is_blinded BOOLEAN DEFAULT FALSE,
  is_pinned BOOLEAN DEFAULT FALSE,
  is_notice BOOLEAN DEFAULT FALSE
);

-- ëŒ“ê¸€ í…Œì´ë¸”
CREATE TABLE comments (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  post_id UUID REFERENCES posts(id) ON DELETE CASCADE NOT NULL,
  content TEXT NOT NULL,
  user_id UUID REFERENCES auth.users(id) NOT NULL,
  parent_id UUID REFERENCES comments(id),
  anonymous_number INTEGER NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  likes_count INTEGER DEFAULT 0,
  dislikes_count INTEGER DEFAULT 0
);

-- ê²Œì‹œê¸€ ë°˜ì‘ í…Œì´ë¸”
CREATE TABLE post_reactions (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  post_id UUID REFERENCES posts(id) ON DELETE CASCADE NOT NULL,
  user_id UUID REFERENCES auth.users(id) NOT NULL,
  reaction_type TEXT CHECK (reaction_type IN ('like', 'dislike')) NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(post_id, user_id, reaction_type)
);

-- ëŒ“ê¸€ ë°˜ì‘ í…Œì´ë¸”
CREATE TABLE comment_reactions (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  comment_id UUID REFERENCES comments(id) ON DELETE CASCADE NOT NULL,
  user_id UUID REFERENCES auth.users(id) NOT NULL,
  reaction_type TEXT CHECK (reaction_type IN ('like', 'dislike')) NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(comment_id, user_id, reaction_type)
);

-- ì‹ ê³  í…Œì´ë¸”
CREATE TABLE reports (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  reporter_id UUID REFERENCES auth.users(id) NOT NULL,
  target_type TEXT CHECK (target_type IN ('post', 'comment')) NOT NULL,
  target_id UUID NOT NULL,
  reason TEXT NOT NULL,
  status TEXT DEFAULT 'pending' CHECK (status IN ('pending', 'reviewed', 'resolved')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- RLS (Row Level Security) ì„¤ì •
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE posts ENABLE ROW LEVEL SECURITY;
ALTER TABLE comments ENABLE ROW LEVEL SECURITY;
ALTER TABLE post_reactions ENABLE ROW LEVEL SECURITY;
ALTER TABLE comment_reactions ENABLE ROW LEVEL SECURITY;
ALTER TABLE reports ENABLE ROW LEVEL SECURITY;

-- RLS ì •ì±… ì„¤ì •
CREATE POLICY "Users can view all posts" ON posts FOR SELECT USING (true);
CREATE POLICY "Users can insert their own posts" ON posts FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "Users can update their own posts" ON posts FOR UPDATE USING (auth.uid() = user_id);
CREATE POLICY "Users can delete their own posts" ON posts FOR DELETE USING (auth.uid() = user_id);

CREATE POLICY "Users can view all comments" ON comments FOR SELECT USING (true);
CREATE POLICY "Users can insert their own comments" ON comments FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "Users can update their own comments" ON comments FOR UPDATE USING (auth.uid() = user_id);
CREATE POLICY "Users can delete their own comments" ON comments FOR DELETE USING (auth.uid() = user_id);

CREATE POLICY "Users can manage their own reactions" ON post_reactions FOR ALL USING (auth.uid() = user_id);
CREATE POLICY "Users can manage their own reactions" ON comment_reactions FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can create reports" ON reports FOR INSERT WITH CHECK (auth.uid() = reporter_id);
CREATE POLICY "Admins can view all reports" ON reports FOR SELECT USING (
  EXISTS (SELECT 1 FROM profiles WHERE id = auth.uid() AND role IN ('admin', 'teacher'))
);

-- í•¨ìˆ˜ ìƒì„±
CREATE OR REPLACE FUNCTION increment(row_id UUID, column_name TEXT)
RETURNS INTEGER AS $$
BEGIN
  RETURN (SELECT column_name::INTEGER + 1 FROM posts WHERE id = row_id);
END;
$$ LANGUAGE plpgsql;

CREATE OR REPLACE FUNCTION decrement(row_id UUID, column_name TEXT)
RETURNS INTEGER AS $$
BEGIN
  RETURN (SELECT column_name::INTEGER - 1 FROM posts WHERE id = row_id);
END;
$$ LANGUAGE plpgsql;
```

### 5. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
npm run dev
```

ë¸Œë¼ìš°ì €ì—ì„œ [http://localhost:3000](http://localhost:3000)ì„ ì—´ì–´ í™•ì¸í•˜ì„¸ìš”.

## ğŸ“± PWA ê¸°ëŠ¥

ì´ í”„ë¡œì íŠ¸ëŠ” PWA(Progressive Web App)ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´:

- ğŸ“± ëª¨ë°”ì¼ì—ì„œ í™ˆ í™”ë©´ì— ì¶”ê°€ ê°€ëŠ¥
- ğŸ”„ ì˜¤í”„ë¼ì¸ ì§€ì›
- ğŸ“± ë„¤ì´í‹°ë¸Œ ì•±ê³¼ ìœ ì‚¬í•œ ì‚¬ìš©ì ê²½í—˜
- ğŸ”” í‘¸ì‹œ ì•Œë¦¼ ì§€ì› (í–¥í›„ êµ¬í˜„ ì˜ˆì •)

## ğŸš€ ë°°í¬

### Vercel ë°°í¬
1. [Vercel](https://vercel.com)ì— GitHub ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„± ë° GitHub ì €ì¥ì†Œ ì—°ê²°
3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
4. ë°°í¬ ì™„ë£Œ

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
Vercel ëŒ€ì‹œë³´ë“œì—ì„œ ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì„¸ìš”:
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### í”„ë¡œì íŠ¸ êµ¬ì¡°
```
src/
â”œâ”€â”€ app/                 # Next.js App Router
â”‚   â”œâ”€â”€ auth/           # ì¸ì¦ í˜ì´ì§€
â”‚   â”œâ”€â”€ posts/          # ê²Œì‹œê¸€ ê´€ë ¨ í˜ì´ì§€
â”‚   â””â”€â”€ globals.css     # ì „ì—­ ìŠ¤íƒ€ì¼
â”œâ”€â”€ components/         # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ auth/          # ì¸ì¦ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/            # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ ...            # ê¸°íƒ€ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ lib/               # ìœ í‹¸ë¦¬í‹° ë° ì„¤ì •
â”‚   â”œâ”€â”€ supabase.ts    # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â””â”€â”€ utils.ts       # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â””â”€â”€ hooks/             # ì»¤ìŠ¤í…€ í›…
```

### ì½”ë“œ ìŠ¤íƒ€ì¼
- TypeScript ì‚¬ìš©
- ESLint + Prettier ì„¤ì •
- ì»´í¬ë„ŒíŠ¸ëŠ” í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
- ìƒíƒœ ê´€ë¦¬ëŠ” React Query ì‚¬ìš©

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ ì£¼ì„¸ìš”.

---

**í•™êµ ìµëª… ê²Œì‹œíŒ** - ììœ ë¡­ê²Œ ì˜ê²¬ì„ ë‚˜ëˆ„ëŠ” ê³µê°„ ğŸ¯
